<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Json在线解析及格式化验证</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta http-equiv="Cache-Control" content="max-age=7200" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">

    <style>
        body {
            font-family: Menlo, Monaco, Consolas, "Helvetica Neue", Helvetica, "Courier New", '微软雅黑', monospace, Arial, sans-serif, '黑体';
            color: #555;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <main class="row-fluid" style="height: 85%; min-height: 550px;">
        <div class="col-md-5" style="float: left;padding: 0; height: 100%;">
            <textarea id="json-src" placeholder="在此输入json字符串或XML字符串..." class="form-control"
                style="width: 90%; height:900px;padding:0 10px 10px 20px;
                    border:0;border-right:solid 1px #ddd;border-bottom:solid 1px #ddd;
                    border-radius:0;resize: none; outline:none;">{&#13"Json解析":"支持格式化高亮折叠",&#13"支持XML转换":"支持XML转换Json,Json转XML",&#13"Json格式验证":"更详细准确的错误信息"}</textarea>
        </div>
        <!--  -->
        <div class="col-md-7" style="float: left;padding: 0;">
            <nav style="padding: 10px; font-size: 16px; border-bottom:solid 1px #ddd;">
                <a href="#" class="tip zip" title="压缩" data-placement="bottom"><i class="fa fa-database"></i></a>
                <a href="#" class="tip xml" title="转XML" data-placement="bottom"><i class="fa fa-file-excel-o"></i></a>
                <a href="#" class="tip shown" title="显示行号" data-placement="bottom"><i
                        class="glyphicon glyphicon-sort-by-order"></i></a>
                <a href="#" class="tip clear" title="清空" data-placement="bottom"><i class="fa fa-trash"></i></a>
                <a href="#" class="tip save" title="保存" data-placement="bottom"><i class="fa fa-download"></i></a>
                <a href="#" class="tip copy" title="复制" data-clipboard-target="#json-target" data-placement="bottom"><i
                        class="fa fa-copy"></i></a>
                <a href="#" class="tip compress" title="折叠" data-placement="bottom"><i class="fa fa-compress"></i></a>
            </nav>
            <div id="">
                <div style="background-color:#fafafa;padding:0px 8px;float:left;border-right:dashed 1px #eee;display:none;z-index:-1;color:#999;position:absolute;text-align:center;overflow:hidden;">
                    <div>0</div>
                </div>
                <div class="ro" id="json-target" style="padding:0px 25px;">
                </div>
            </div>
        </div>
    </main>


    <!--  -->
    <script src="js/jquery.min.js"></script>
    <script src="js/jsonlint.js"></script>
    <script src="js/jquery.json.js"></script>

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>

    <!--  -->
    <script type="text/javascript">

        $('#json-src').keyup(function () {
            var content = $.trim($(this).val());

            content = content.replace(/[\r\n]/g, "");
            current_json = jsonlint.parse(content);
            current_json_str = JSON.stringify(current_json);
            result = new JSONFormat(content, 4).toString();

            $('#json-target').html(result);
        });
    </script>
</body>

</html>